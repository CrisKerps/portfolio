<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fjalla+One&display=swap"
      rel="stylesheet"
    />
    <title>Loyalty Senate</title>
  </head>
  <body class="container">
    <header>
      <img src="images/logo.jpg" alt="dataInsightGroup" id="logo" />
      <div class="position-absolute top-0 end-0">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-envelope"
          viewBox="0 0 16 16"
        >
          <path
            d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"
          />
        </svg>
        <a href="mailto:info@datainsightgroup.net" target="_blank"
          >info@datainsightgroup.net</a
        >
      </div>
    </header>

    <nav>
      <ul class="nav nav-pills">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            role="button"
            aria-expanded="false"
            >Loyalty Senate</a
          >
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="house-data.html">House</a></li>
            <li><a class="dropdown-item" href="senate-data.html">Senate</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            role="button"
            aria-expanded="false"
            >Attendance</a
          >
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="house-attendance.html">House</a>
            </li>
            <li>
              <a class="dropdown-item" href="senate-attendance.html">Senate</a>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            role="button"
            aria-expanded="false"
            >Party Loyalty</a
          >
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="house-loyalty.html">House</a>
            </li>
            <li>
              <a class="dropdown-item active" href="senate_loyalty.html"
                >Senate</a
              >
            </li>
          </ul>
        </li>
      </ul>
    </nav>

    <!--Table container-->
    <div id="app">
      <div class="d-flex col-11">
        <div>
          <h2>Party Loyalty</h2>
          <p>
            Those who consider themselves to be strong partisans, strong
            Democrats and strong Republicans respectively, tend to be the most
            faithful in voting for their party's nominee for office and
            legislation that backs their party's agenda.
          </p>
        </div>
        <div class="col-4">
          <h2>Senate at a glance</h2>
          <table class="table table-striped table-hover">
            <thead class="text-light bg-dark">
                  <tr>
                      <th>Party </th>
                      <th>Num of reps</th>
                      <th> % votes with Party</th>
                  </tr>
              </thead>
              <tbody> 
                  <tr v-for = "party in partyMembers">
                      <td v-for= "(value,key) in party"> 
                          <template v-if="key != 'votes'">
                              {{value}}
                          </template>
                          </td>
                  </tr>
                  <tr>
                      <td>Total</td>
                      <td> {{ totalMembers }} </td>
                      <td> {{ totalVotesPct }} </td>
                  </tr>
              </tbody>
          </table>
      </div>
      </div>
      <div class="d-flex">
        <div class="col-6">
          <h2>Least Engaged (Bottom 10% Attendance)</h2>
          <table class="table table-striped table-hover">
            <thead class="text-light bg-dark">
              <tr>
                <th>Name</th>
                <th>Number of Missed Votes</th>
                <th>% Missed</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="member in bottomTenPercent">
                <td>{{ member.first_name}} {{member.last_name}}</td>
                <td>{{member.missed_votes}}</td>
                <td>{{member.missed_votes_pct}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-6">
          <h2>Most Engaged (Top 10% Attendance)</h2>
          <table class="table table-striped table-hover">
            <thead class="text-light bg-dark">
              <tr>
                <th>Name</th>
                <th>Number of Missed Votes</th>
                <th>% Missed</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="member in topTenPercent">
                <td>{{ member.first_name}} {{member.last_name}}</td>
                <td>{{member.missed_votes}}</td>
                <td>{{member.missed_votes_pct}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script src="aux-main-loyalty.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
